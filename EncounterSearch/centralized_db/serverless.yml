service: kpi-test
frameworkVersion: '3'
package:
  exclude:
    - ./**
  include:
    - es_controller.py
    - lambda_function.py
provider:
   name: aws
   stage: prod
   region: us-east-1
   runtime: python3.7
   lambdaHashingVersion: 20201221
   deploymentBucket: kpi-test-lambda
   iam:
      role: arn:aws:iam::527774997072:role/service-role/kpi-dev-inbound-decrypt-role-x94sy5af
   apiGateway:
     restApiId: c81bx3bn6c
     restApiRootResourceId: vtq31q
     restApiResources:
        '/EncounterSearch': post
#   logs:
#     restApi:
#     role: role: arn:aws:iam::527774997072:role/service-role/kpi-dev-inbound-decrypt-role-x94sy5af
#   someCustomLambdaAuthorizer:
#     type: request
#     functionName: kpi-udm-prod-encounter-superset
#    functionArn: arn:aws:lambda:us-east-1:161674638527:function:kpi-udm-prod-encounter-superset	 
functions:
  EncounterSearch:
    handler: handler.encounter-superset
    role: arn:aws:iam::527774997072:role/service-role/kpi-dev-inbound-decrypt-role-x94sy5af
    name: kpi-test-${sls:stage}-encounter-superset
    events:
      - http:
        path: /
        method: post
        cors: true
        
